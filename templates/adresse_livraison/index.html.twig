{% extends 'base.html.twig' %}

{% block title %}Mon adresse de livraison{% endblock %}

{% block body %}


<div class="container my-formular">
    <h1 class="text-center m-5">Mes adresses de livraison</h1>
    {% if app.user.adresseLivraison|length == 0 %}
    <p class="text-center"> Vous n'avez pas encore ajouté d'adresse de Facturation. Pour en ajouter une, veuillez <a href="{{path('app_adresse_livraison_new')}}">cliquer ici.</a></p>
    {% else %}

    <div class="row">
        {% for adresse_livraison in app.user.adresseLivraison %}
        <div class="col-md-4">
            <div class="card" style="width: 18rem;">

                <div class="card-body">
                    <h5 class="card-title">{{ adresse_livraison.nom }}</h5>
                    <p class="card-text">{{adresse_livraison.numeroRue}} - {{adresse_livraison.rue}} <br> {{adresse_livraison.codepostal}} - {{adresse_livraison.ville}} <br>{{adresse_livraison.pays}}</p>
                    <a class="btn btn-info" href="{{ path('app_adresse_livraison_show', {'id': adresse_livraison.id}) }}">Details</a>
                    <a class="btn btn-info" href="{{ path('app_adresse_livraison_edit', {'id': adresse_livraison.id}) }}">Modifier</a>
                    {{ include('adresse_livraison/_delete_form.html.twig') }}
                </div>
            </div>

        </div>


        {% endfor %}
        {% endif %}
        <a class="btn btn-info m-5 btn-sm" href="{{ path('app_adresse_livraison_new') }}">Créer une nouvelle</a>
    </div>

    <div class="container my-formular">
        <h1 class="text-center">Mes adresses de livraison</h1>

        {% if app.user.adresseLivraison|length == 0 %}
        <p class="text-center"> Vous n'avez pas encore ajouté d'adresse de livraison. Pour en ajouter une, veuillez <a href="{{path('app_adresse_livraison_new')}}">cliquer ici.</a></p>
        {% else %}

        <table class="table">
            <thead>
                <tr>
                    {% if is_granted('ROLE_ADMIN')%}
                    <th>Id</th>
                    {% endif %}
                    <th>Nom</th>
                    <th>NumeroRue</th>
                    <th>Rue</th>
                    <th>Codepostal</th>
                    <th>Ville</th>
                    <th>Pays</th>
                    <th>Complement d'adresse</th>

                </tr>
            </thead>
            <tbody>
                {% for adresse_livraison in adresse_livraisons %}
                <tr>
                    {% if is_granted('ROLE_ADMIN')%}
                    <td>{{ adresse_livraison.id }}</td>
                    {% endif %}
                    <td>{{ adresse_livraison.nom }}</td>
                    <td>{{ adresse_livraison.numeroRue }}</td>
                    <td>{{ adresse_livraison.rue }}</td>
                    <td>{{ adresse_livraison.codepostal }}</td>
                    <td>{{ adresse_livraison.ville }}</td>
                    <td>{{ adresse_livraison.pays }}</td>
                    <td>{{ adresse_livraison.infocomplementaire }}</td>
                    <td>
                        <a href="{{ path('app_adresse_livraison_show', {'id': adresse_livraison.id}) }}">Voir</a>
                        <a href="{{ path('app_adresse_livraison_edit', {'id': adresse_livraison.id}) }}">Modifier</a>
                    </td>
                </tr>
            </tbody>
            {% endfor %}
            {% endif %}
        </table>
    </div>
    {% endblock %}